<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>An Architecture for Trustworthy Digital Supply Chain Transparency Services</title>
<meta content="Henk Birkholz" name="author">
<meta content="Antoine Delignat-Lavaud" name="author">
<meta content="Cedric Fournet" name="author">
<meta content="
       A transparent and authentic ledger service in support of a supply chain's integrity, transparency, and trust requires all peers that contribute to the ledgers operations to be trustworthy and authentic. 
       In this document, the supply chain context is illustrated using problem statements, requirements are derived from use case definitions, and architectural constituents are specified and illustrated in usage scenarios. 
       The resulting architecture is intended to enable multi-layer interoperability to produce and leverage believable trust assertions while maintaining a minimal adoption threshold. 
    " name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-birkholz-scitt-architecture-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.9.7
    appdirs 1.4.4
    ConfigArgParse 1.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.5
    MarkupSafe 2.0.1
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 52.0.0
    six 1.16.0
-->
<link href="draft-birkholz-scitt-architecture.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
dd.break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href].selfRef {
  color: var(--text-color);
}
a[href] {
  color: var(--link-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines */
  line-height: 0;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  pre + .pilcrow, svg + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
tr:nth-child(2n) > td {
  background-color: var(--background-color);
}
tr:nth-child(2n+1) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n+1) > td {
  background-color: var(--background-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 8em;
}
#identifiers dt {
  width: var(--identifier-width);
  margin: 0;
  clear: left;
  float: left;
  text-align: right;
}
#identifiers dd {
  margin: 0 0 0 calc(1em + var(--identifier-width));
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul p, #toc ul li {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table .text-left, table .text-left {
  text-align: left;
}
table .text-center, table .text-center {
  text-align: center;
}
table .text-right, table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
/* Trick: a prefix match works because only black and white are allowed */
svg [stroke="black"], svg [stroke^="#000"] {
  stroke: var(--text-color);
}
svg [stroke="white"], svg [stroke^="#fff"] {
  stroke: var(--background-color);
}
svg [fill="black"], svg [fill^="#000"], svg :not([fill]) {
  fill: var(--text-color);
}
svg [stroke="fill"], svg [fill^="#fff"] {
  fill: var(--background-color);
}
}
</style>

</head>
<body>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">SCITT Architecture</td>
<td class="right">February 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Birkholz, et al.</td>
<td class="center">Expires 1 September 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">TBD</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-birkholz-scitt-architecture-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-02-28" class="published">28 February 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-09-01">1 September 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">H. Birkholz</div>
<div class="org">Fraunhofer SIT</div>
</div>
<div class="author">
      <div class="author-name">A. Delignat-Lavaud</div>
<div class="org">Microsoft</div>
</div>
<div class="author">
      <div class="author-name">C. Fournet</div>
<div class="org">Microsoft</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">An Architecture for Trustworthy Digital Supply Chain Transparency Services</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">A transparent and authentic ledger service in support of a supply chain's integrity, transparency, and trust requires all peers that contribute to the ledgers operations to be trustworthy and authentic.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">In this document, the supply chain context is illustrated using problem statements, requirements are derived from use case definitions, and architectural constituents are specified and illustrated in usage scenarios.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">The resulting architecture is intended to enable multi-layer interoperability to produce and leverage believable trust assertions while maintaining a minimal adoption threshold.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-discussion-venues">
<a href="#name-discussion-venues" class="section-name selfRef">Discussion Venues</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Source for this draft and an issue tracker can be found at
    <span><a href="https://github.com/ietf-scitt/draft-birkholz-scitt-architecture">https://github.com/ietf-scitt/draft-birkholz-scitt-architecture</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 1 September 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-requirements-notation" class="xref">Requirements Notation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-use-cases" class="xref">Use Cases</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-cold-chains-for-seafood" class="xref">Cold Chains for Seafood</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-maintenance-telemetry-from-" class="xref">Maintenance Telemetry from Truck Fleets</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-public-software-bill-of-mat" class="xref">Public Software Bill of Materials (SBOM) Ledger</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-public-sbom-ledger" class="xref">Public SBOM ledger</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-confidential-computing" class="xref">Confidential Computing</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-definition-of-transparency" class="xref">Definition of Transparency</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-high-level-architecture" class="xref">High-level architecture</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-principals" class="xref">Principals</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="xref">6.1.1</a>.  <a href="#name-transparency-services" class="xref">Transparency services</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.2">
                    <p id="section-toc.1-1.6.2.1.2.2.1"><a href="#section-6.1.2" class="xref">6.1.2</a>.  <a href="#name-issuers-and-claims" class="xref">Issuers and claims</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.3">
                    <p id="section-toc.1-1.6.2.1.2.3.1"><a href="#section-6.1.3" class="xref">6.1.3</a>.  <a href="#name-verifiers" class="xref">Verifiers</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-scitt-transparency-service" class="xref">SCITT Transparency Service</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-service-identity-and-keying" class="xref">Service Identity and Keying</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-receipt-issuance" class="xref">Receipt Issuance</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-ledger-security-requirement" class="xref">Ledger Security Requirements</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.1">
                    <p id="section-toc.1-1.7.2.3.2.1.1"><a href="#section-7.3.1" class="xref">7.3.1</a>.  <a href="#name-attestability-of-service-id" class="xref">Attestability of service identity</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.2">
                    <p id="section-toc.1-1.7.2.3.2.2.1"><a href="#section-7.3.2" class="xref">7.3.2</a>.  <a href="#name-consistency" class="xref">Consistency</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.3">
                    <p id="section-toc.1-1.7.2.3.2.3.1"><a href="#section-7.3.3" class="xref">7.3.3</a>.  <a href="#name-finality" class="xref">Finality</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.4">
                    <p id="section-toc.1-1.7.2.3.2.4.1"><a href="#section-7.3.4" class="xref">7.3.4</a>.  <a href="#name-replayability" class="xref">Replayability</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.5">
                    <p id="section-toc.1-1.7.2.3.2.5.1"><a href="#section-7.3.5" class="xref">7.3.5</a>.  <a href="#name-auditing" class="xref">Auditing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.6">
                    <p id="section-toc.1-1.7.2.3.2.6.1"><a href="#section-7.3.6" class="xref">7.3.6</a>.  <a href="#name-governance-and-bootstrappin" class="xref">Governance and Bootstrapping</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-caching-query-service" class="xref">Caching / Query service</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-scitt-cose-envelopes" class="xref">SCITT COSE Envelopes</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-issuer-identity" class="xref">Issuer Identity</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.1">
                    <p id="section-toc.1-1.8.2.1.2.1.1"><a href="#section-8.1.1" class="xref">8.1.1</a>.  <a href="#name-why" class="xref">Why?</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-scitt-cose-profile" class="xref">SCITT COSE profile</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-protocols" class="xref">Protocols</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-issuing-signed-claims-about" class="xref">Issuing Signed Claims about an Artifact.</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1.2.1">
                    <p id="section-toc.1-1.9.2.1.2.1.1"><a href="#section-9.1.1" class="xref">9.1.1</a>.  <a href="#name-scitt-is-agnostic-to-claim-" class="xref">SCITT is agnostic to claim types and formats (?)</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-registering-signed-claims" class="xref">Registering Signed Claims.</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="xref">9.3</a>.  <a href="#name-verifying-transparent-signe" class="xref">Verifying Transparent Signed Claims</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-federation" class="xref">Federation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-scitt-rest-api" class="xref">SCITT REST API</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-messages" class="xref">Messages</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.1">
                    <p id="section-toc.1-1.11.2.1.2.1.1"><a href="#section-11.1.1" class="xref">11.1.1</a>.  <a href="#name-register-signed-claims" class="xref">Register Signed Claims</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.2">
                    <p id="section-toc.1-1.11.2.1.2.2.1"><a href="#section-11.1.2" class="xref">11.1.2</a>.  <a href="#name-retrieve-registration-recei" class="xref">Retrieve Registration Receipt</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-privacy-considerations" class="xref">Privacy Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="xref">15</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.1">
                <p id="section-toc.1-1.15.2.1.1"><a href="#section-15.1" class="xref">15.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.2">
                <p id="section-toc.1-1.15.2.2.1"><a href="#section-15.2" class="xref">15.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-attic" class="xref">Attic</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The need for an understandable, scalable and resilient system that provides trustworthy transparency for various kinds of existing and emerging supply chains is a global one.
This memo specifies an architecture for Transparency Service (TS) to systematically protect supply chains for digital artifacts.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Supply Chain Integrity, Transparency and Trust (SCITT) involves two complementary security guarantees:<a href="#section-1-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-1-3">
<li id="section-1-3.1">artifacts must be authenticated by their issuers; and<a href="#section-1-3.1" class="pilcrow">¶</a>
</li>
        <li id="section-1-3.2">an artifact's release must be recorded in a secure, append-only ledger, so that their provenance and release history can be independently reviewed.<a href="#section-1-3.2" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-1-4">Transparency in the context of supply chains is always a well-scoped quality for each instance of a TS.
Transparency does not imply being transparent to everybody, unconditionally.
Each instance may enforce its own policy for authorizing entities to register their claims on the TS. 
Nevertheless, it is of great import to provide global interoperability for all TS instances as the composition and configuration of involved supply chain entities and their system components is ever changing and always in flux.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">A TS provides visibility into claims produced by supply chain entities and their sub-systems.
These claims are called Digital Supply Chain Artifacts (DSCA).
More importantly, a TS vouches for specific and well-defined metadata about these DSCAs, including "when was the DSCA recorded by the TS", "who issued the DSCA to the TS", or "what type of DSCA are stored in the TS".
Conversely, a DSCA itself can be opaque to the TS, if so desired.
It is the metadata that must always be transparent and that must warrant trust. That metadata includes distinct details and believable trustworthiness characteristics about the distinguishable system components that compose TS instances as well as their operations involving DSCA.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">These trustworthiness assertions provide an essential basis for holding issuers accountable for the DSCA they release and (more generally) principals accountable for the claims they make about such DSCAs. 
Hence, issuers may register new claims about their artifacts, but they cannot delete or alter 
earlier claims, or hide their claims from third parties such as auditors.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">Crucially, trust in the TS itself can be supported by providing guarantees about their implementation, based on hardware attestation, and by holding them accountable, based on independent auditing of the correctness and consistency of their whole transparency ledger.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">The TS specified in this architecture caters two types of audiences:<a href="#section-1-8" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-1-9">
<li id="section-1-9.1">DSCA Issuers: entities, stakeholders, and users involved in supply chain interactions that need to release DSCAs to a definable set of peers; and<a href="#section-1-9.1" class="pilcrow">¶</a>
</li>
        <li id="section-1-9.2">DSCA Consumers: entities, stakeholders, and users involved in supply chain interactions that need to access, validate, and trust DSCAs.<a href="#section-1-9.2" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-1-10">DSCA Issuers rely on being discoverable and represented as the responsible parties for released DSCAs by the TS in a believable manner.
Analogously, DSCA Consumers rely on verifiable trustworthiness assertions associated with DSCAs and their processing in a believable manner.
If trust can be put into the operations that record DSCAs in a secure, append-only ledger via an online operation, the same trust can be put into a corresponding receipt that is the result of these online operations issued by the TS and that can be validated in offline operations.<a href="#section-1-10" class="pilcrow">¶</a></p>
<p id="section-1-11">The TS specified in this architecture can be implemented by various different types of services in various types of languages provided via various variants of API layouts.
The global interoperability enabled and guaranteed by the TS is enabled via core components (architectural constituents) that come with prescriptive requirements (that are typically hidden away from the user audience via APIs later).
The core components are based on the Concise Signing and Encryption standard specified in <span>[<a href="#RFC8152" class="xref">RFC8152</a>]</span>, which is used to sign released DSCAs and to build and maintain a merkle tree that functions as the append-only ledger for DSCAs.
The format and verification process for ledger-based transparency receipts are described in <a href="https://ietf-scitt.github.io/draft-birkholz-scitt-receipts/draft-birkholz-scitt-receipts.html">Counter-Signing Receipts</a><a href="#section-1-11" class="pilcrow">¶</a></p>
<div id="requirements-notation">
<section id="section-1.1">
        <h3 id="name-requirements-notation">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-notation" class="section-name selfRef">Requirements Notation</a>
        </h3>
<p id="section-1.1-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="use-cases">
<section id="section-2">
      <h2 id="name-use-cases">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-use-cases" class="section-name selfRef">Use Cases</a>
      </h2>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2-1.1">
          <p id="section-2-1.1.1">Henk has lock on this section. Allen also interested in writing here.
The plan is to keep application details to this subsection.<a href="#section-2-1.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-2-2">This section presents representative and solution-agnostic use cases to illustrate the scope of SCITT and the processing of Digital Supply Chain Artifacts.<a href="#section-2-2" class="pilcrow">¶</a></p>
<div id="cold-chains-for-seafood">
<section id="section-2.1">
        <h3 id="name-cold-chains-for-seafood">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-cold-chains-for-seafood" class="section-name selfRef">Cold Chains for Seafood</a>
        </h3>
<p id="section-2.1-1">Once seafood is caught, its quality is determined -- amongst other criteria -- via the integrity of a cold chain that ensures a regulatory perspective freshness mandating a continuous storing temperature between 1<span class="contact-name">°</span>C and 0<span class="contact-name">°</span>C (or -18<span class="contact-name">°</span>C and lower for frozen seafood). The temperature is recorded by cooling units adhering to certain compliance standards automatically. Batches of seafood can be split or aggregated before arriving in a shelf so that each unit can potentially have a potentially unique cold chain record whose transparency impacts the accuracy of the shelf-life associated with it. Especially in early links of the supply chain, Internet connection or sophisticated IT equipment are typically not available and sometimes temperature measurements are recorded manually and digital records are created in hindsight.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="maintenance-telemetry-from-truck-fleets">
<section id="section-2.2">
        <h3 id="name-maintenance-telemetry-from-">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-maintenance-telemetry-from-" class="section-name selfRef">Maintenance Telemetry from Truck Fleets</a>
        </h3>
<p id="section-2.2-1">Measurements from Electronic Control Units (ECUs) that are components of fleets of trucks are recorded while they are on the road in support of supply chain logistics. Continuously recorded measurements are aggregated in batches by each truck and handed off to a telemetry store via mobile Internet or whenever the truck is in close proximity to a WiFi gate. Telemetry records stored are the fuel for machine learning approaches or prediction models based on AI methods. Telemetry records are considered confidential and are only exposed to other supply chain entities that are able to make their compliance to certain security standards transparent (or can present other contractual trust relationships).<a href="#section-2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="public-software-bill-of-materials-sbom-ledger">
<section id="section-2.3">
        <h3 id="name-public-software-bill-of-mat">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-public-software-bill-of-mat" class="section-name selfRef">Public Software Bill of Materials (SBOM) Ledger</a>
      </h3>
</section>
</div>
</section>
</div>
<div id="public-sbom-ledger">
<section id="section-3">
      <h2 id="name-public-sbom-ledger">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-public-sbom-ledger" class="section-name selfRef">Public SBOM ledger</a>
      </h2>
<ul class="normal">
<li class="normal" id="section-3-1.1">
          <p id="section-3-1.1.1">Public SBOM ledger
&gt; No need to separate firmware?.<a href="#section-3-1.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-1.1.2.1">from source code to binaries<a href="#section-3-1.1.2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3-1.1.2.2">can we keep track of the provenance of software artifacts?<a href="#section-3-1.1.2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3-1.1.2.3">can we share the cost of reviewing software across the industry?<a href="#section-3-1.1.2.3" class="pilcrow">¶</a>
</li>
          </ul>
</li>
      </ul>
<div id="confidential-computing">
<section id="section-3.1">
        <h3 id="name-confidential-computing">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-confidential-computing" class="section-name selfRef">Confidential Computing</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-3.1-1.1">
            <p id="section-3.1-1.1.1">Confidential Computing<a href="#section-3.1-1.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-1.1.2.1">how can clients that connect to a CC service for the first time validate their attestation results?<a href="#section-3.1-1.1.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.1-1.1.2.2">how to automatically patch a CC service? Trust, but audit later.<a href="#section-3.1-1.1.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.1-1.1.2.3">automated software updates<a href="#section-3.1-1.1.2.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.1-1.1.2.4">in particular for implementing SCITT services.<a href="#section-3.1-1.1.2.4" class="pilcrow">¶</a>
</li>
            </ul>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="terminology">
<section id="section-4">
      <h2 id="name-terminology">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-4-1">The terms defined in this section have special meaning in the context of Supply Chain Integrity, Transparency, and Trust throughout this document. When used in text, the corresponding terms are capitalized. To ensure readability, only a core set of terms is included in this section.<span class="cref" id="_1">This list is a bucket today and subject to churn.<span class="crefSource">Henk</span></span><a href="#section-4-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4-2">
        <dt id="section-4-2.1">Artifact:</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.2">
          <p id="section-4-2.2.1">the physical or non-physical item that is moving along the supply chain.<a href="#section-4-2.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.3">Statement:</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.4">
          <p id="section-4-2.4.1">any serializable information about an Artifact. To help interpretation of statement, they must be tagged with a media type (as specified in RFC6838)<a href="#section-4-2.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.5">Claim:</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.6">
          <p id="section-4-2.6.1">an identifiable and non-repudiable statement about an Artifact made by an Issuer. In SCITT, claims are encoded as COSE signed objects; the payload of the COSE structure contains the statement.<a href="#section-4-2.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.7">Issuer:</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.8">
          <p id="section-4-2.8.1">the originator of named statements, which are signed into claims submitted to a Transparency Service for registration. The Issuer may be the owner or author of the Artifact, or a completely independent third party.<a href="#section-4-2.8.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.9">Envelope:</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.10">
          <p id="section-4-2.10.1">the metadata added to the Statement by the Issuer to make it a Claim. It contains the identity of the issuer and other information to help Verifiers identify the Artifact referred in the statement. A Claim binds the Envelope to the statement. In COSE, the envelope consists of protected headers.<a href="#section-4-2.10.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.11">Feed:</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.12">
          <p id="section-4-2.12.1">An identifier chosen by the Issuer for the Artifact. For every Issuer and Feed, the Ledger on a Transparency Service contains a sequence of claims about the same Artifact.
 In COSE, feed is one of the protected headers of the envelope.<a href="#section-4-2.12.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.13">Ledger:</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.14">
          <p id="section-4-2.14.1">the verifiable data structure that stores Claims in a transparency service. SCITT supports multiple ledger formats to accomodate different transparency service implementations, such as historical Merkle Trees and sparse Merkle Trees.<a href="#section-4-2.14.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.15">Transparency Service:</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.16">
          <p id="section-4-2.16.1">the entity that maintains and extends the Ledger, and endorses its state. A Transparency Service can be a complicated distributed system, and SCITT requires the TS to provide many security guarantees about its ledger. The identity of a TS is captured by a public key that must be known by Verifiers in order to validate Receipts.<a href="#section-4-2.16.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.17">Receipt:</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.18">
          <p id="section-4-2.18.1">a Receipt is a special form of COSE countersignature for claims that embeds cryptographic evidence that the claim is recorded in the ledger. It consists of a ledger-specific inclusion proof, a signature by the transparency service of the state of the ledger, and additional metadata (contained in the countersignature protected headers) to assist in auditing.<a href="#section-4-2.18.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.19">Registration:</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.20">
          <p id="section-4-2.20.1">the process of submitting a claim to a transparency service, storing it in the ledger and producing the Receipt returned to the submitter.<a href="#section-4-2.20.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.21">Transparent Claim:</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.22">
          <p id="section-4-2.22.1">a Claim that is augmented with a receipt of its registration. A Transparent Claim remains a valid Claim (as the receipt is carred in the countersignature), and may be registered again in a different TS.<a href="#section-4-2.22.1" class="pilcrow">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="mybody">
<section id="section-5">
      <h2 id="name-definition-of-transparency">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-definition-of-transparency" class="section-name selfRef">Definition of Transparency</a>
      </h2>
<p id="section-5-1">In this document, we use a definition of transparency built over abstract notions of ledgers and receipts. Existing transparency systems such as Certificate Transparency (CT) are instances of this definition.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">A <em>claim</em> is an identifiable and non-repudiable statement made by an <em>issuer</em>.<a href="#section-5-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-3.1">Claims can be issued and endorsed by principals (issuers).<a href="#section-5-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-3.2">Signed Claims can be counter-signed by SCITT ledgers.<a href="#section-5-3.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-5-4">An artifact (e.g. a firmware binary) is transparent if it comes with valid transparent signed claims.<a href="#section-5-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-5.1">The signature proves the artifact has been issued by the signer, with the associated metadata.<a href="#section-5-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-5.2">The receipt proves this artifact and associated metadata has been recorded by the ledger.<a href="#section-5-5.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-5-6">Transparency does not prevent dishonest or compromised issuers, but it holds them accountable:
any artifact that may be used to target a particular user that checks for receipts must have been recorded in the tamper-proof ledger, and will be subject to scrutiny and auditing by other parties.<a href="#section-5-6" class="pilcrow">¶</a></p>
<p id="section-5-7">Anyone with access to the ledger can independenly verify the ledger consistency and review the list of claims registered by its issuers.<a href="#section-5-7" class="pilcrow">¶</a></p>
<p id="section-5-8">Reputable issuers are thus incentivized to carefully review their artifacts before signing them.<a href="#section-5-8" class="pilcrow">¶</a></p>
<p id="section-5-9">A ledger is a consistent, append-only, publicly available record of entries.<a href="#section-5-9" class="pilcrow">¶</a></p>
<p id="section-5-10">A receipt is an offline, universally-verifiable proof that an entry has been recorded in the ledger.<a href="#section-5-10" class="pilcrow">¶</a></p>
<p id="section-5-11">Receipts do not expire, but it is possible to append new entries that subsume older entries.<a href="#section-5-11" class="pilcrow">¶</a></p>
</section>
</div>
<div id="high-level-architecture">
<section id="section-6">
      <h2 id="name-high-level-architecture">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-high-level-architecture" class="section-name selfRef">High-level architecture</a>
      </h2>
<p id="section-6-1">SCITT provides an interoperability framework to verify the transparency of arbitrary digital artifacts registered across many different ledgers. Although instances of SCITT transparency services may differ in their implementations, SCITT aims to enforce a common baseline accountability guarantee for auditors and consumers of transparency evidence.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="principals">
<section id="section-6.1">
        <h3 id="name-principals">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-principals" class="section-name selfRef">Principals</a>
        </h3>
<div id="transparency-services">
<section id="section-6.1.1">
          <h4 id="name-transparency-services">
<a href="#section-6.1.1" class="section-number selfRef">6.1.1. </a><a href="#name-transparency-services" class="section-name selfRef">Transparency services</a>
          </h4>
<p id="section-6.1.1-1">As a decentralized system, SCITT allows anyone to operate their own instance of a transparency service, which maintains its own ledger<a href="#section-6.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="issuers-and-claims">
<section id="section-6.1.2">
          <h4 id="name-issuers-and-claims">
<a href="#section-6.1.2" class="section-number selfRef">6.1.2. </a><a href="#name-issuers-and-claims" class="section-name selfRef">Issuers and claims</a>
          </h4>
<p id="section-6.1.2-1">Claims are non-repudiable statements made by issuers. In SCITT, many claims are made by authors, reviewers and distributors of digital artifacts, including source and binary packages, firmware, audit reports, etc.<a href="#section-6.1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="verifiers">
<section id="section-6.1.3">
          <h4 id="name-verifiers">
<a href="#section-6.1.3" class="section-number selfRef">6.1.3. </a><a href="#name-verifiers" class="section-name selfRef">Verifiers</a>
          </h4>
<p id="section-6.1.3-1">including users, and anyone else<a href="#section-6.1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="scitt-transparency-service">
<section id="section-7">
      <h2 id="name-scitt-transparency-service">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-scitt-transparency-service" class="section-name selfRef">SCITT Transparency Service</a>
      </h2>
<p id="section-7-1">SCITT aims to support many different implementations of transparency ledgers, as long as they satisfy a set of requirements that aim to limit the trust that participants need to have in their operators. Unlike Certificate Transparency, we do not assume that the honestly of transparency services is enforced by external audit, as this approach does not scale to the large amount of instances necessary to protect the software supply chain at scale.<a href="#section-7-1" class="pilcrow">¶</a></p>
<div id="service-identity-and-keying">
<section id="section-7.1">
        <h3 id="name-service-identity-and-keying">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-service-identity-and-keying" class="section-name selfRef">Service Identity and Keying</a>
        </h3>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1-1.1">
            <p id="section-7.1-1.1.1">Details TBD, e.g. discovery, rekeying, revocation, delegation (e.g. to replicas); this may  require its own subsection, or left underspecified as ledger-specific details.<a href="#section-7.1-1.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="receipt-issuance">
<section id="section-7.2">
        <h3 id="name-receipt-issuance">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-receipt-issuance" class="section-name selfRef">Receipt Issuance</a>
        </h3>
<p id="section-7.2-1">Compact, universally verifiable proof that claims are registered in the ledger.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2-2">Enabling offline verification of registration in the ledger. Signed with key that chains to service identity<a href="#section-7.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ledger-security-requirements">
<section id="section-7.3">
        <h3 id="name-ledger-security-requirement">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-ledger-security-requirement" class="section-name selfRef">Ledger Security Requirements</a>
        </h3>
<p id="section-7.3-1">The main requirements for the transparency service are<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<div id="attestability-of-service-identity">
<section id="section-7.3.1">
          <h4 id="name-attestability-of-service-id">
<a href="#section-7.3.1" class="section-number selfRef">7.3.1. </a><a href="#name-attestability-of-service-id" class="section-name selfRef">Attestability of service identity</a>
          </h4>
<p id="section-7.3.1-1">Enabling remote authentication of the hardware platforms and software TCB that run the transparency service.<a href="#section-7.3.1-1" class="pilcrow">¶</a></p>
<p id="section-7.3.1-2">Hardware attestation report, binding a public key for receipt verification to the long-term transparency service identity.<a href="#section-7.3.1-2" class="pilcrow">¶</a></p>
<p id="section-7.3.1-3">RATS? proof-of-work?<a href="#section-7.3.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="consistency">
<section id="section-7.3.2">
          <h4 id="name-consistency">
<a href="#section-7.3.2" class="section-number selfRef">7.3.2. </a><a href="#name-consistency" class="section-name selfRef">Consistency</a>
          </h4>
<p id="section-7.3.2-1">Everyone with access to the ledger sees the same sequence of registered entries.<a href="#section-7.3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="finality">
<section id="section-7.3.3">
          <h4 id="name-finality">
<a href="#section-7.3.3" class="section-number selfRef">7.3.3. </a><a href="#name-finality" class="section-name selfRef">Finality</a>
          </h4>
<p id="section-7.3.3-1">Ledger is append-only; once registered, its entries cannot be modified or deleted (although they may be superceded by nwer entries).<a href="#section-7.3.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="replayability">
<section id="section-7.3.4">
          <h4 id="name-replayability">
<a href="#section-7.3.4" class="section-number selfRef">7.3.4. </a><a href="#name-replayability" class="section-name selfRef">Replayability</a>
          </h4>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.3.4-1.1">
              <p id="section-7.3.4-1.1.1">Can it cover client authentication and DID resolution?<a href="#section-7.3.4-1.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="auditing">
<section id="section-7.3.5">
          <h4 id="name-auditing">
<a href="#section-7.3.5" class="section-number selfRef">7.3.5. </a><a href="#name-auditing" class="section-name selfRef">Auditing</a>
        </h4>
</section>
</div>
<div id="governance-and-bootstrapping">
<section id="section-7.3.6">
          <h4 id="name-governance-and-bootstrappin">
<a href="#section-7.3.6" class="section-number selfRef">7.3.6. </a><a href="#name-governance-and-bootstrappin" class="section-name selfRef">Governance and Bootstrapping</a>
          </h4>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.3.6-1.1">
              <p id="section-7.3.6-1.1.1">Their specification is out of scope: we rely on ledger-specific, out-of-band protocols for it.<a href="#section-7.3.6-1.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="caching-query-service">
<section id="section-7.4">
        <h3 id="name-caching-query-service">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-caching-query-service" class="section-name selfRef">Caching / Query service</a>
        </h3>
<p id="section-7.4-1">Untrusted. Replicated. Indexed.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.4-2.1">
            <p id="section-7.4-2.1.1">This service could extract (read) receipts from the ledger.<a href="#section-7.4-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="scitt-cose-envelopes">
<section id="section-8">
      <h2 id="name-scitt-cose-envelopes">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-scitt-cose-envelopes" class="section-name selfRef">SCITT COSE Envelopes</a>
      </h2>
<p id="section-8-1"><strong>Format of signed claims / envelope</strong><a href="#section-8-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-8-2.1">
          <p id="section-8-2.1.1">Some headers that may be missing:
  - feed (enabling separation of ids for issuers and artifacts)#
  - svn (enabling versioning and rollback protection)
  - cty (contents type/format descriptor)
  - timestamp or serial number<a href="#section-8-2.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-8-3.1">
          <p id="section-8-3.1.1">Envelopes <span class="bcp14">MAY</span> include additional protected and unprotected headers.<a href="#section-8-3.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<div id="issuer-identity">
<section id="section-8.1">
        <h3 id="name-issuer-identity">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-issuer-identity" class="section-name selfRef">Issuer Identity</a>
        </h3>
<p id="section-8.1-1">SCITT issuers are identified using DID, which provides a flexible, decentralized identity framework.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1-2">The service <span class="bcp14">MAY</span> support the <code>did:web</code> method for bootstrapping identities from domain ownership via https certificates.<a href="#section-8.1-2" class="pilcrow">¶</a></p>
<p id="section-8.1-3">The service <span class="bcp14">MUST</span> resolve the issuer DID before registering their claims.<a href="#section-8.1-3" class="pilcrow">¶</a></p>
<p id="section-8.1-4">The service <span class="bcp14">SHOULD</span> record a transcript of the DID resolution at the time of registration.<a href="#section-8.1-4" class="pilcrow">¶</a></p>
<p id="section-8.1-5">The service can cache and re-use DID resolution.
- Evidence capture?
- What does it mean in terms of transcript?<a href="#section-8.1-5" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-8.1-6.1">
            <p id="section-8.1-6.1.1">Details TBD. We could e.g. include a digest of the DID document at the time of registration in the leaf, or introduce another kind of record in the ledger.<a href="#section-8.1-6.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-8.1-7.1">
            <p id="section-8.1-7.1.1">The rest of this section is based on an earlier syntactic spec.<a href="#section-8.1-7.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.1-8">Digital supply chain artifacts are heterogeneous and originated from sources using various formats and encodings Large scale ledger services in support of supply chain authenticity and transparency require a simply and well-supported signing envelope that is easy to use and interoperates with the semantic of the ledger services. In this document, a COSE profile is defined that limits the potential use of a COSE envelope to the requirements of such a supply chain ledger, leveraging solutions and principles from the Concise Signing and Encryption (COSE) space.<a href="#section-8.1-8" class="pilcrow">¶</a></p>
<div id="why">
<section id="section-8.1.1">
          <h4 id="name-why">
<a href="#section-8.1.1" class="section-number selfRef">8.1.1. </a><a href="#name-why" class="section-name selfRef">Why?</a>
          </h4>
<p id="section-8.1.1-1">COSE is generic, every application needs to constrain it to their own use cases, in this case the SCITT use cases.<a href="#section-8.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="scitt-cose-profile">
<section id="section-8.2">
        <h3 id="name-scitt-cose-profile">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-scitt-cose-profile" class="section-name selfRef">SCITT COSE profile</a>
        </h3>
<p id="section-8.2-1">[TODO] describe semantics of <code>iss</code> and how it can be used together with <code>kid</code> to identity a verification method in a resolved DID document<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<p id="section-8.2-2">A SCITT COSE message is a tagged COSE_Sign1 message.<a href="#section-8.2-2" class="pilcrow">¶</a></p>
<p id="section-8.2-3">The protected header must contain the following registered parameters:<a href="#section-8.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-4.1">alg (label: <code>1</code>): Asymmetric signature algorithm as integer, for example <code>-35</code> for ECDSA with SHA-384, see <a href="https://www.iana.org/assignments/cose/cose.xhtml">COSE Algorithms registry</a><a href="#section-8.2-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-4.2">payload type (label: <code>3</code>): Media type of payload as string, for example <code>application/spdx+json</code><a href="#section-8.2-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-4.3">issuer (label: <code>TBD</code>, to be registered): DID (Decentralized Identifier, see <a href="https://www.w3.org/TR/did-core/">W3C Candidate Recommendation</a>) of the signer as string, for example <code>did:web:example.com</code><a href="#section-8.2-4.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-8.2-5">Depending on the DID method the protected header must contain one or more of the following registered parameters:<a href="#section-8.2-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-6.1">kid (label: <code>4</code>): Key identifier as a UTF-8 string encoded as a byte string, required for <code>did:web</code><a href="#section-8.2-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-6.2">x5c (label: <code>33</code>): X.509 certificate chain (including Root CA certificate), required for TBD<a href="#section-8.2-6.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-8.2-7">The unprotected header may contain the following parameters:<a href="#section-8.2-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-8.1">receipts (label: <code>TBD</code>, to be registered): Array of SCITT receipts, defined in TBD<a href="#section-8.2-8.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-8.2-9">In CDDL (<a href="https://datatracker.ietf.org/doc/html/rfc8610">RFC 8610</a>) notation, the envelope is defined as follows:<a href="#section-8.2-9" class="pilcrow">¶</a></p>
<p id="section-8.2-10">```
SCITT_Envelope = COSE_Sign1_Tagged<a href="#section-8.2-10" class="pilcrow">¶</a></p>
<p id="section-8.2-11">COSE_Sign1_Tagged = #6.18(COSE_Sign1)<a href="#section-8.2-11" class="pilcrow">¶</a></p>
<p id="section-8.2-12">COSE_Sign1 = [
  protected : bstr .cbor Protected_Header,
  unprotected : Unprotected_Header,
  payload : bstr,
  signature : bstr
]<a href="#section-8.2-12" class="pilcrow">¶</a></p>
<p id="section-8.2-13">Protected_Header = {
  ; mandatory
  1 =&gt; int               ; algorithm identifier
  3 =&gt; tstr              ; payload type
  258 =&gt; tstr            ; DID of issuer<a href="#section-8.2-13" class="pilcrow">¶</a></p>
<p id="section-8.2-14">; mandatory depending on DID method
  ? 4 =&gt; bstr            ; key identifier
  ? 33 =&gt; COSE_X509      ; X.509 certificate chain, excluding Root CA certificate<a href="#section-8.2-14" class="pilcrow">¶</a></p>
<p id="section-8.2-15">; optional experimental parameters
  ? -65537 =&gt; tstr       ; Feed
  ? -65538 =&gt; uint       ; SVN
}<a href="#section-8.2-15" class="pilcrow">¶</a></p>
<p id="section-8.2-16">Unprotected_Header = {
   ? 259 =&gt; SCITT_Receipt / [+ SCITT_Receipt]
}<a href="#section-8.2-16" class="pilcrow">¶</a></p>
<p id="section-8.2-17">COSE_X509 = bstr / [ 2*certs: bstr ]
```<a href="#section-8.2-17" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="protocols">
<section id="section-9">
      <h2 id="name-protocols">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-protocols" class="section-name selfRef">Protocols</a>
      </h2>
<div id="issuing-signed-claims-about-an-artifact">
<section id="section-9.1">
        <h3 id="name-issuing-signed-claims-about">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-issuing-signed-claims-about" class="section-name selfRef">Issuing Signed Claims about an Artifact.</a>
        </h3>
<p id="section-9.1-1">Issuance itself is just signing with a key currently associated with the issuer DID.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<div id="scitt-is-agnostic-to-claim-types-and-formats-">
<section id="section-9.1.1">
          <h4 id="name-scitt-is-agnostic-to-claim-">
<a href="#section-9.1.1" class="section-number selfRef">9.1.1. </a><a href="#name-scitt-is-agnostic-to-claim-" class="section-name selfRef">SCITT is agnostic to claim types and formats (?)</a>
          </h4>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-9.1.1-1.1">
              <p id="section-9.1.1-1.1.1">Are we going to specify formats for envelope payloads, aka "sets of claims" ? How are the types and formats below authenticated? We considered a "cty" protected header for that purpose.<a href="#section-9.1.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-9.1.1-2">Claim types include:
- SBOMs
- Malware scans
- Human audits
- Policies (= parameterized claims, with subject as input parameter)<a href="#section-9.1.1-2" class="pilcrow">¶</a></p>
<p id="section-9.1.1-3">Claim formats include:
- JSON-SPDX
- CBOR-SPDX
- SWID
- CoSWID
- CycloneDX<a href="#section-9.1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="registering-signed-claims">
<section id="section-9.2">
        <h3 id="name-registering-signed-claims">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-registering-signed-claims" class="section-name selfRef">Registering Signed Claims.</a>
        </h3>
<p id="section-9.2-1">The same claim may be independently registered in multiple TS.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<p id="section-9.2-2">To register a claim, the service performs the following steps:<a href="#section-9.2-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-9.2-3">
<li id="section-9.2-3.1">
            <p id="section-9.2-3.1.1">Client authentication.<a href="#section-9.2-3.1.1" class="pilcrow">¶</a></p>
<p id="section-9.2-3.1.2">
So far, implementation-specific, and unrelated to the issuer identity.<a href="#section-9.2-3.1.2" class="pilcrow">¶</a></p>
</li>
          <li id="section-9.2-3.2">Issuer identification. The service must check that the ledger records a recent DID document for the <code>issuer</code> protected header of the envelope. This <span class="bcp14">MAY</span> require that the service resolve the issuer DID and record the resulting document. (See issuer identity above.)<a href="#section-9.2-3.2" class="pilcrow">¶</a>
</li>
        </ol>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-9.2-4.1">
            <p id="section-9.2-4.1.1">Still missing any validation step involving prior claims, e.g., if the ledger already records any other claims from the same issuer with the same feed, check that the SVN of the new claim increments the claim of these prior claims.<a href="#section-9.2-4.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<ol start="1" type="1" class="normal type-1" id="section-9.2-5">
<li id="section-9.2-5.1">Envelope signature verification, as described in COSE signature, using the signature algorithm and verification key of the issuer DID document.<a href="#section-9.2-5.1" class="pilcrow">¶</a>
</li>
          <li id="section-9.2-5.2">Envelope validation. The service <span class="bcp14">MUST</span> check that the envelope has a payload and the protected headers listed above. The service <span class="bcp14">MAY</span> additionally verify the payload format and content.<a href="#section-9.2-5.2" class="pilcrow">¶</a>
</li>
          <li id="section-9.2-5.3">The service <span class="bcp14">MAY</span> apply an additional service-specific registration policy. The service <span class="bcp14">SHOULD</span> document this step, and <span class="bcp14">MAY</span> record additional evidence to enable its replayability.<a href="#section-9.2-5.3" class="pilcrow">¶</a>
</li>
          <li id="section-9.2-5.4">Commit to the ledger.<a href="#section-9.2-5.4" class="pilcrow">¶</a>
</li>
          <li id="section-9.2-5.5">Sign and return receipt.<a href="#section-9.2-5.5" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-9.2-6">The last two steps <span class="bcp14">MAY</span> be shared between a batch of claims recorded in the ledger.<a href="#section-9.2-6" class="pilcrow">¶</a></p>
<p id="section-9.2-7">The service <span class="bcp14">MUST</span> ensure that the claim is committed before releasing its receipt, so that it can always back up the receipt by releasing the corresponding entry in the ledger. Conversely, the service <span class="bcp14">MAY</span> re-issue receipts for the ledger content, for instance after a transient fault during claim registration.<a href="#section-9.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="verifying-transparent-signed-claims">
<section id="section-9.3">
        <h3 id="name-verifying-transparent-signe">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-verifying-transparent-signe" class="section-name selfRef">Verifying Transparent Signed Claims</a>
        </h3>
<p id="section-9.3-1">Trusted input for receipt verification: the identity
and the public signature-verification key of the transparency service.<a href="#section-9.3-1" class="pilcrow">¶</a></p>
<p id="section-9.3-2">These may be included in the verifier's trusted configuration, or determined by a trusted policy.<a href="#section-9.3-2" class="pilcrow">¶</a></p>
<p id="section-9.3-3">Verification steps:<a href="#section-9.3-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-9.3-4">
<li id="section-9.3-4.1">Verify receipt (see other draft)<a href="#section-9.3-4.1" class="pilcrow">¶</a>
</li>
          <li id="section-9.3-4.2">Verify issuer signature.<a href="#section-9.3-4.2" class="pilcrow">¶</a>
</li>
          <li id="section-9.3-4.3">Freshness/revocation?<a href="#section-9.3-4.3" class="pilcrow">¶</a>
</li>
          <li id="section-9.3-4.4">Validate format of the envelope contents.<a href="#section-9.3-4.4" class="pilcrow">¶</a>
</li>
        </ol>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-9.3-5.1">
            <p id="section-9.3-5.1.1">Steps 2 and 3 are still TBD; the client should verify the issuer signature against the issuers' DID document at the time of registration.<a href="#section-9.3-5.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-9.3-6">Once verified, the claims together with their authenticated issuer and transparent ledger identities can be used as input to an authorization policy.<a href="#section-9.3-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="federation">
<section id="section-10">
      <h2 id="name-federation">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-federation" class="section-name selfRef">Federation</a>
      </h2>
<p id="section-10-1">We explain how multiple, independent transparency services can be composed to distribute supply chains without a single transparency authority trusted by all parties.<a href="#section-10-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-10-2.1">
          <p id="section-10-2.1.1">Mostly out of scope for the first drafts? We should make sure our architecture supports it.<a href="#section-10-2.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-10-3">Multiple SCITT instances, governed and operated by different organizations.<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4">For example,
- a small, simple SCITT instance may keep track specifically of the software used for operating SCITT services.
- an air-gapped data center may operate its own SCITT ledger to retain full control and auditing of its software supplies.<a href="#section-10-4" class="pilcrow">¶</a></p>
<p id="section-10-5">How?
- Policy-based. Within an organization, local verifiers contact an authoritative SCITT that records the latest policies associated with classes of artifacts; these policies indicate which issuers and ledgers are trusted for verifying transparent signed claims for these artifacts.<a href="#section-10-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10-6.1">Other federation mechanisms?<a href="#section-10-6.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-10-7">We'd like to attach multiple receipts to the same signed claims, each receipt endorsing the issuer signature and a subset of prior receipts. This involves down-stream ledgers verifying and recording these receipts before issuing their own receipts.<a href="#section-10-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="scitt-rest-api">
<section id="section-11">
      <h2 id="name-scitt-rest-api">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-scitt-rest-api" class="section-name selfRef">SCITT REST API</a>
      </h2>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-11-1.1">
          <p id="section-11-1.1.1">We may omit most of the details, or put it in an appendix.<a href="#section-11-1.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<div id="messages">
<section id="section-11.1">
        <h3 id="name-messages">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-messages" class="section-name selfRef">Messages</a>
        </h3>
<div id="register-signed-claims">
<section id="section-11.1.1">
          <h4 id="name-register-signed-claims">
<a href="#section-11.1.1" class="section-number selfRef">11.1.1. </a><a href="#name-register-signed-claims" class="section-name selfRef">Register Signed Claims</a>
          </h4>
<div id="request">
<section id="section-11.1.1.1">
            <h5 id="name-request">
<a href="#section-11.1.1.1" class="section-number selfRef">11.1.1.1. </a><a href="#name-request" class="section-name selfRef">Request</a>
            </h5>
<div class="alignLeft art-text artwork" id="section-11.1.1.1-1">
<pre>
POST &lt;Base URL&gt;/entries
</pre><a href="#section-11.1.1.1-1" class="pilcrow">¶</a>
</div>
<p id="section-11.1.1.1-2">Body: SCITT COSE_Sign1 message<a href="#section-11.1.1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="response">
<section id="section-11.1.1.2">
            <h5 id="name-response">
<a href="#section-11.1.1.2" class="section-number selfRef">11.1.1.2. </a><a href="#name-response" class="section-name selfRef">Response</a>
            </h5>
<p id="section-11.1.1.2-1">One of the following:<a href="#section-11.1.1.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.1.1.2-2.1">HTTP Status <code>201</code> - Registration was tentatively successful pending service consensus.<a href="#section-11.1.1.2-2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-11.1.1.2-2.2">
                <p id="section-11.1.1.2-2.2.1">HTTP Status <code>400</code> - Registration was unsuccessful.<a href="#section-11.1.1.2-2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.1.1.2-2.2.2.1">Error code <code>AwaitingDIDResolutionTryLater</code><a href="#section-11.1.1.2-2.2.2.1" class="pilcrow">¶</a>
</li>
                  <li class="normal" id="section-11.1.1.2-2.2.2.2">Error code <code>InvalidInput</code><a href="#section-11.1.1.2-2.2.2.2" class="pilcrow">¶</a>
</li>
                </ul>
</li>
            </ul>
<p id="section-11.1.1.2-3">[TODO] Use 5xx for AwaitingDIDResolutionTryLater<a href="#section-11.1.1.2-3" class="pilcrow">¶</a></p>
<p id="section-11.1.1.2-4">The <code>201</code> response contains the <code>x-ms-ccf-transaction-id</code>  HTTP header which can be used to retrieve the Registration Receipt with the given transaction ID. [TODO] this has to be made generic<a href="#section-11.1.1.2-4" class="pilcrow">¶</a></p>
<p id="section-11.1.1.2-5">[TODO] probably a bad idea to define a new header, or is it ok? can we register a new one? https://www.iana.org/assignments/http-fields/http-fields.xhtml<a href="#section-11.1.1.2-5" class="pilcrow">¶</a></p>
<p id="section-11.1.1.2-6">The <code>400</code> response has a <code>Content-Type: application/json</code> header and a body containing details about the error:<a href="#section-11.1.1.2-6" class="pilcrow">¶</a></p>
<p id="section-11.1.1.2-7"><code>json
{
  "error": {
    "code": "&lt;error code&gt;",
    "message": "&lt;message&gt;"
  }
}
</code><a href="#section-11.1.1.2-7" class="pilcrow">¶</a></p>
<p id="section-11.1.1.2-8"><code>AwaitingDIDResolutionTryLater</code> means the service does not have an up-to-date DID document of the DID referenced in the Signed Claims but is performing or will perform a DID resolution after which the client may retry the request. The response may contain the HTTP header <code>Retry-After</code> to inform the client about the expected wait time.<a href="#section-11.1.1.2-8" class="pilcrow">¶</a></p>
<p id="section-11.1.1.2-9"><code>InvalidInput</code> means either the Signed Claims message is syntactically malformed, violates the signing profile (e.g. signing algorithm), or has an invalid signature relative to the currently resolved DID document.<a href="#section-11.1.1.2-9" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="retrieve-registration-receipt">
<section id="section-11.1.2">
          <h4 id="name-retrieve-registration-recei">
<a href="#section-11.1.2" class="section-number selfRef">11.1.2. </a><a href="#name-retrieve-registration-recei" class="section-name selfRef">Retrieve Registration Receipt</a>
          </h4>
<div id="request-1">
<section id="section-11.1.2.1">
            <h5 id="name-request-2">
<a href="#section-11.1.2.1" class="section-number selfRef">11.1.2.1. </a><a href="#name-request-2" class="section-name selfRef">Request</a>
            </h5>
<div class="alignLeft art-text artwork" id="section-11.1.2.1-1">
<pre>
GET &lt;Base URL&gt;/entries/&lt;Transaction ID&gt;/receipt
</pre><a href="#section-11.1.2.1-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="response-1">
<section id="section-11.1.2.2">
            <h5 id="name-response-2">
<a href="#section-11.1.2.2" class="section-number selfRef">11.1.2.2. </a><a href="#name-response-2" class="section-name selfRef">Response</a>
            </h5>
<p id="section-11.1.2.2-1">One of the following:<a href="#section-11.1.2.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.1.2.2-2.1">HTTP Status <code>200</code> - Registration was successful and the receipt is returned.<a href="#section-11.1.2.2-2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-11.1.2.2-2.2">
                <p id="section-11.1.2.2-2.2.1">HTTP Status <code>400</code> - Transaction exists but does not correspond to a Registration Request.<a href="#section-11.1.2.2-2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.1.2.2-2.2.2.1">Error code <code>TransactionMismatch</code><a href="#section-11.1.2.2-2.2.2.1" class="pilcrow">¶</a>
</li>
                </ul>
</li>
              <li class="normal" id="section-11.1.2.2-2.3">
                <p id="section-11.1.2.2-2.3.1">HTTP Status <code>404</code> - Transaction is pending, unknown, or invalid.<a href="#section-11.1.2.2-2.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.1.2.2-2.3.2.1">Error code <code>TransactionPendingOrUnknown</code><a href="#section-11.1.2.2-2.3.2.1" class="pilcrow">¶</a>
</li>
                  <li class="normal" id="section-11.1.2.2-2.3.2.2">Error code <code>TransactionInvalid</code><a href="#section-11.1.2.2-2.3.2.2" class="pilcrow">¶</a>
</li>
                </ul>
</li>
            </ul>
<p id="section-11.1.2.2-3">The <code>200</code> response contains the SCITT_Receipt in the body.<a href="#section-11.1.2.2-3" class="pilcrow">¶</a></p>
<p id="section-11.1.2.2-4">The <code>400</code> and <code>404</code> responses return the error details as described earlier.<a href="#section-11.1.2.2-4" class="pilcrow">¶</a></p>
<p id="section-11.1.2.2-5">The retrieved receipt may be embedded in the corresponding COSE_Sign1 document in the unprotected header, see TBD.<a href="#section-11.1.2.2-5" class="pilcrow">¶</a></p>
<p id="section-11.1.2.2-6">[TODO] There's also the <code>GET &lt;Base URL&gt;/entries/&lt;Transaction ID&gt;</code> endpoint which returns the submitted COSE_Sign1 with the receipt already embedded. Is this useful?<a href="#section-11.1.2.2-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="privacy-considerations">
<section id="section-12">
      <h2 id="name-privacy-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
      </h2>
<p id="section-12-1">Privacy Considerations<a href="#section-12-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-13">
      <h2 id="name-security-considerations">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-13-1">Security Considerations<a href="#section-13-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-14">
      <h2 id="name-iana-considerations">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-14-1">See Body <a href="#mybody" class="xref">Section 5</a>.<a href="#section-14-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-15">
      <h2 id="name-references">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-15.1">
        <h3 id="name-normative-references">
<a href="#section-15.1" class="section-number selfRef">15.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8152">[RFC8152]</dt>
        <dd>
<span class="refAuthor">Schaad, J.</span>, <span class="refTitle">"CBOR Object Signing and Encryption (COSE)"</span>, <span class="seriesInfo">RFC 8152</span>, <span class="seriesInfo">DOI 10.17487/RFC8152</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8152">https://www.rfc-editor.org/rfc/rfc8152</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-15.2">
        <h3 id="name-informative-references">
<a href="#section-15.2" class="section-number selfRef">15.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.draft-birkholz-scitt-receipts">[I-D.draft-birkholz-scitt-receipts]</dt>
      <dd>
<span class="refTitle">"*** BROKEN REFERENCE ***"</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="attic">
<section id="appendix-A">
      <h2 id="name-attic">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-attic" class="section-name selfRef">Attic</a>
      </h2>
<p id="appendix-A-1">Not ready to throw these texts into the trash bin yet.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Henk Birkholz</span></div>
<div dir="auto" class="left"><span class="org">Fraunhofer SIT</span></div>
<div dir="auto" class="left"><span class="street-address">Rheinstrasse 75</span></div>
<div dir="auto" class="left">
<span class="postal-code">64295</span> <span class="locality">Darmstadt</span>
</div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:henk.birkholz@sit.fraunhofer.de" class="email">henk.birkholz@sit.fraunhofer.de</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Antoine Delignat-Lavaud</span></div>
<div dir="auto" class="left"><span class="org">Microsoft</span></div>
<div dir="auto" class="left"><span class="country-name">United Kingdom</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:antdl@microsoft.com" class="email">antdl@microsoft.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Cedric Fournet</span></div>
<div dir="auto" class="left"><span class="org">Microsoft</span></div>
<div dir="auto" class="left"><span class="country-name">United Kingdom</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:fournet@microsoft.com" class="email">fournet@microsoft.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
